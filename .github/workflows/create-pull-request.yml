name: Create Pull Request

env:
    MY_GITHUB_TOKEN: ${{ secrets.MY_GITHUB_TOKEN }}

on:
  push:
    branches:
      - feature/**
      - bugfix/**
      - hotfix/**
      - release/**

jobs:
  createPR:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Code
        uses: actions/checkout@v4

      - name: Create PR
        uses: repo-sync/pull-request@v2
        with:
          destination_branch: "develop"  # PR target for feature and bugfix branches
          pr_title: "Automated PR from ${{ github.ref }}"
          pr_body: "This is an automated pull request."
          pr_label: "automated-pr"
          github_token: ${{ env.MY_GITHUB_TOKEN }}
        if: startsWith(github.ref, 'refs/heads/feature/') || startsWith(github.ref, 'refs/heads/bugfix/')

      - name: Create PR
        uses: repo-sync/pull-request@v2
        with:
          destination_branch: "main"  # PR target for hotfix and release branches
          pr_title: "Automated PR from ${{ github.ref }}"
          pr_body: "This is an automated pull request."
          pr_label: "automated-pr"
          github_token: ${{ env.MY_GITHUB_TOKEN }}
        if: startsWith(github.ref, 'refs/heads/hotfix/') || startsWith(github.ref, 'refs/heads/release/')
